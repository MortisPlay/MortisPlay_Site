<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Mortis Play — официальный сайт</title>
  <meta name="description" content="Эпичные видео, мемы, новости и обновления от Mortis Play. Присоединяйся к вайбу!" />
  <meta name="robots" content="index,follow" />
  <link rel="icon" href="/images/favicon.ico" />

  <!-- Open Graph -->
  <meta property="og:title" content="Mortis Play — официальный сайт" />
  <meta property="og:description" content="Эксклюзивы, мемы, новости и клипы." />
  <meta property="og:image" content="https://mortisplay.ru/assets/og-image.jpg" />
  <meta property="og:url" content="https://mortisplay.ru" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="ru_RU" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Mortis Play — официальный сайт" />
  <meta name="twitter:description" content="Эксклюзивы, мемы, новости и клипы." />
  <meta name="twitter:image" content="https://mortisplay.ru/assets/twitter-image.jpg" />

  <!-- Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-W7QBLDDSSK"></script>
  <script>
    const nonce = crypto.getRandomValues(new Uint8Array(16)).reduce((s, b) => s + b.toString(16).padStart(2, '0'), '');
    const script = document.createElement('script');
    script.nonce = nonce;
    script.id = 'gtagScript';
    script.innerHTML = `window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-W7QBLDDSSK');`;
    document.head.appendChild(script);
  </script>

  <script src="https://cdn.tailwindcss.com" defer></script>
  <script src="https://kit.fontawesome.com/b48beda69e.js" crossorigin="anonymous" defer></script>

  <style>
    @keyframes floaty { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-6px); } }
    .card-hover { transition: transform .25s ease, box-shadow .25s ease; }
    .card-hover:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgb(0 0 0 / .15); }
    .fade-in { opacity: 0; transform: translateY(16px); transition: opacity .6s ease, transform .6s ease; }
    .fade-in.is-visible { opacity: 1; transform: none; }
    .glass { -webkit-backdrop-filter: saturate(160%) blur(8px); backdrop-filter: saturate(160%) blur(8px); background: linear-gradient(180deg, rgb(255 255 255 / .7), rgb(255 255 255 / .55)); }
    .dark .glass { background: linear-gradient(180deg, rgb(17 24 39 / .7), rgb(17 24 39 / .55)); }
    #loader { position: fixed; inset: 0; z-index: 1000; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #6366f1, #ec4899); }
    .loader-spin { width: 64px; height: 64px; border: 6px solid rgba(255, 255, 255, .3); border-top-color: #fff; border-radius: 50%; animation: spin 1s linear infinite; }
    @keyframes spin { 100% { transform: rotate(360deg); } }
    #sidebarMenu { box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1); transform: translateX(-100%); transition: transform 0.3s ease-in-out; }
    #sidebarMenu.open { transform: translateX(0); }
    .glass-button { background: rgba(255, 255, 255, 0.15); -webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); border-radius: 0.75rem; padding: 0.75rem 1.5rem; color: #ffffff; font-weight: 600; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08); transition: all 0.3s ease; cursor: pointer; }
    .glass-button:hover { background: rgba(255, 255, 255, 0.25); transform: scale(1.05); box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1); }
    .glass-button:active { transform: scale(0.98); }
    .dark .glass-button { background: rgba(50, 50, 50, 0.15); border-color: rgba(200, 200, 200, 0.2); }
    .dark .glass-button:hover { background: rgba(50, 50, 50, 0.25); }
    @supports not (backdrop-filter: blur(10px)) { .glass-button { background: rgba(255, 255, 255, 0.5); box-shadow: none; } .dark .glass-button { background: rgba(50, 50, 50, 0.5); } }
    @media (max-width: 640px) { 
      .glass { -webkit-backdrop-filter: none; backdrop-filter: none; background: linear-gradient(180deg, rgb(255 255 255 / .9), rgb(255 255 255 / .8)); } 
      .dark .glass { background: linear-gradient(180deg, rgb(17 24 39 / .9), rgb(17 24 39 / .8)); } 
      .card-hover:hover { transform: none; } 
      .animate-[floaty_5s_ease-in-out_infinite] { animation: none; } 
      iframe, video, img { max-width: 100%; height: auto; } 
    }
    /* Фиксированная навигация для ПК */
    @media (min-width: 1024px) {
      header { position: sticky; top: 0; z-index: 50; background: white/80 dark:bg-slate-900/80; }
      nav { height: 4rem; }
      nav a { padding: 0.75rem 1rem; }
      nav a:hover { background: slate-100 dark:bg-slate-800; }
    }
    #closedNotice { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 9999; display: flex; align-items: center; justify-content: center; color: #fff; font-family: Arial, sans-serif; text-align: center; padding: 20px; }
    #closedNotice > div { background: #1a1a1a; padding: 2rem; border-radius: 8px; border: 2px solid #ff4444; }
  </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-orange-50 via-white to-indigo-50 dark:from-slate-900 dark:via-slate-900 dark:to-indigo-950 text-slate-800 dark:text-slate-100 selection:bg-indigo-200 selection:text-slate-900">
  <div id="loader"><div class="loader-spin" aria-label="Загрузка сайта"></div></div>
  <div id="siteContent" class="hidden">
    <header class="sticky top-0 z-50 border-b border-slate-200/60 dark:border-slate-700/60 bg-white/80 dark:bg-slate-900/80 glass">
      <nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between relative" aria-label="Главная навигация">
        <div class="flex items-center gap-2">
          <button id="menuToggle" class="inline-flex sm:hidden items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium ring-1 ring-slate-300/70 dark:ring-slate-600" aria-controls="sidebarMenu" aria-expanded="false">
            <span>Меню</span>
            <i class="fa-solid fa-bars"></i>
          </button>
          <a href="#welcome" class="flex items-center gap-2 font-semibold tracking-tight text-slate-900 dark:text-white">
            <img src="/assets/photo.jpg" alt="Логотип Mortis Play" class="h-8 w-8 rounded-lg object-cover" loading="lazy" onerror="this.src='/assets/fallback.jpg'; this.alt='Резервный логотип';">
            <span class="hidden sm:inline">Mortis Play</span>
          </a>
        </div>
        <div class="hidden sm:flex items-center gap-2">
          <a class="px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#welcome">Главная</a>
          <a class="px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#biography">Биография</a>
          <a class="px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#videos">Видео</a>
          <a class="px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#projects">Проекты</a>
          <a class="px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#news">Новости</a>
          <a class="px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#contact">Контакты</a>
          <a class="px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#faq">FAQ</a>
        </div>
      </nav>
      <div id="sidebarMenu" class="fixed top-0 left-0 h-full w-64 bg-white dark:bg-slate-900 transform -translate-x-full transition-transform duration-300 ease-in-out z-50 sm:hidden glass">
        <div class="p-4">
          <button id="closeMenu" class="absolute top-4 right-4 text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white" aria-label="Закрыть меню">
            <i class="fa-solid fa-xmark"></i>
          </button>
          <div class="flex items-center gap-2 mb-6">
            <img src="/assets/photo.jpg" alt="Логотип Mortis Play" class="h-8 w-8 rounded-lg object-cover" loading="lazy" onerror="this.src='/assets/fallback.jpg'; this.alt='Резервный логотип';">
            <span class="font-semibold tracking-tight text-slate-900 dark:text-white">Mortis Play</span>
          </div>
          <nav class="space-y-2">
            <a class="block px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#welcome">Главная</a>
            <a class="block px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#biography">Биография</a>
            <a class="block px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#videos">Видео</a>
            <a class="block px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#projects">Проекты</a>
            <a class="block px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#news">Новости</a>
            <a class="block px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#contact">Контакты</a>
            <a class="block px-3 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800" href="#faq">FAQ</a>
          </nav>
        </div>
      </div>
    </header>

    <!-- Hero -->
    <section id="welcome" class="relative overflow-hidden">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16 sm:py-24">
        <div class="grid lg:grid-cols-2 gap-10 items-center">
          <div>
            <h1 class="text-3xl sm:text-5xl font-extrabold tracking-tight leading-tight text-slate-900 dark:text-white">
              Йоу, это <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-fuchsia-600">Mortis Play</span>!
            </h1>
            <p class="mt-4 text-base sm:text-lg text-slate-600 dark:text-slate-300 max-w-prose">
              Эксклюзивные видео, мемы, новости и апдейты. Врывайся — дальше только громче 😎
            </p>
            <div class="mt-6 flex flex-wrap gap-3">
              <a href="#contact" class="glass-button">
                <i class="fa-solid fa-envelope"></i>
                Контакты
              </a>
            </div>
            <div class="mt-6 flex items-center gap-6 text-sm text-slate-600 dark:text-slate-300">
              <div class="flex items-center gap-2"><i class="fa-solid fa-users"></i>Подписчиков: <span id="subscriberCount" class="font-semibold">421</span></div>
              <div class="flex items-center gap-2"><i class="fa-solid fa-eye"></i>Просмотров: <span id="viewCount" class="font-semibold">147K</span></div>
            </div>
          </div>
          <div class="relative mt-8 lg:mt-0">
            <video class="w-full max-w-xs sm:max-w-sm mx-auto rounded-3xl shadow-2xl ring-1 ring-slate-200 dark:ring-slate-700" autoplay muted loop playsinline preload="metadata" aria-label="Аватар канала" loading="lazy" onerror="this.src='/assets/fallback.mp4'; this.alt='Видео недоступно'; this.setAttribute('aria-label', 'Резервное видео');">
              <source src="/assets/photo.mp4" type="video/mp4" />
            </video>
            <div class="mt-4 lg:absolute lg:-bottom-4 lg:-right-4 bg-white/80 dark:bg-slate-900/80 glass rounded-2xl px-4 py-3 shadow card-hover animate-[floaty_5s_ease-in-out_infinite] lg:w-auto w-full">
              <p class="text-xs text-slate-600 dark:text-slate-300 text-center lg:text-left">Гений, миллиардер, плейбой, филантроп 😎</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="biography" class="py-16 bg-gradient-to-b from-transparent to-indigo-50 dark:to-slate-900">
      <div class="mx-auto max-w-5xl px-4">
        <div class="rounded-3xl p-6 md:p-8 bg-indigo-600 text-white shadow-2xl">
          <h2 class="text-2xl md:text-3xl font-bold">Биография</h2>
          <div class="mt-6 grid sm:grid-cols-2 gap-6">
            <ul class="space-y-3 text-indigo-50/90">
              <li><span class="font-semibold">Имя:</span> ???</li>
              <li><span class="font-semibold">Дата рождения:</span> 5 августа 2009 🎂</li>
              <li><span class="font-semibold">Возраст:</span> 16 лет</li>
              <li><span class="font-semibold">Увлечения:</span> Игры 🎮, мемы 😂, контент 📹</li>
            </ul>
            <p class="text-indigo-50/90">
              Начал в 2020 с простых видео, а теперь взрываю вайб мемами и стримами! 🚀 Горжусь первым вирусным мемом и сезоном «Бароны».
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="videos" class="py-16">
      <div class="mx-auto max-w-7xl px-4">
        <h2 class="text-center text-2xl md:text-3xl font-bold">Мои видео</h2>
        <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <template id="ytCardTpl">
            <div class="card-hover rounded-2xl bg-white dark:bg-slate-800 ring-1 ring-slate-200 dark:ring-slate-700 p-4">
              <div class="relative aspect-video rounded-xl overflow-hidden">
                <iframe class="w-full h-full" loading="lazy" allow="autoplay; encrypted-media" allowfullscreen aria-label="Видео" onerror="this.parentElement.innerHTML = '<p class=\"text-red-500\">Ошибка загрузки видео</p>';"></iframe>
              </div>
              <p class="mt-3 text-sm text-slate-600 dark:text-slate-300"></p>
            </template>
          </div>
        </div>
        <div class="mt-6 text-center">
          <a href="https://www.youtube.com/@MortisPlay" target="_blank" class="glass-button">
            <i class="fa-brands fa-youtube"></i> Смотреть все видео
          </a>
        </div>
      </div>
    </section>

    <section id="projects" class="py-16">
      <div class="mx-auto max-w-7xl px-4">
        <h2 class="text-center text-2xl md:text-3xl font-bold">Мои проекты</h2>
        <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-6">
          <div class="card-hover rounded-2xl bg-white dark:bg-slate-800 ring-1 ring-slate-200 dark:ring-slate-700 p-5">
            <div class="flex items-center justify-between">
              <h3 class="font-semibold text-indigo-600 dark:text-indigo-400">3 сезон «Бароны»</h3>
              <span class="text-xs px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-700">1%</span>
            </div>
            <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">Готовлю контент для настоящих бойцов!</p>
            <div class="mt-3 h-2 w-full rounded-full bg-slate-200 dark:bg-slate-700">
              <div class="h-full w-[1%] rounded-full bg-indigo-600" data-progress="1"></div>
            </div>
          </div>
          <div class="card-hover rounded-2xl bg-white dark:bg-slate-800 ring-1 ring-slate-200 dark:ring-slate-700 p-5">
            <div class="flex items-center justify-between">
              <h3 class="font-semibold text-indigo-600 dark:text-indigo-400">1 сезон «Типичный случай»</h3>
              <span class="text-xs px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-700">50%</span>
            </div>
            <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">Серия стримов с мемами и безумными челленджами.</p>
            <div class="mt-3 h-2 w-full rounded-full bg-slate-200 dark:bg-slate-700">
              <div class="h-full w-1/2 rounded-full bg-indigo-600" data-progress="50"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="news" class="py-16 bg-slate-50 dark:bg-slate-900/40">
      <div class="mx-auto max-w-7xl px-4">
        <h2 class="text-center text-2xl md:text-3xl font-bold">Новости</h2>
        <div class="mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Новости остаются без изменений -->
          <article class="card-hover rounded-2xl p-6 text-white bg-gradient-to-r from-indigo-500 to-purple-500">
            <h3 class="text-lg font-semibold">Добро пожаловать!</h3>
            <p class="mt-2 text-sm opacity-90">Итак, добро пожаловать на наш первый сайт! Готовим для вас море эпичного контента: новые видео, мемы и эксклюзивные истории. Следите за обновлениями и присоединяйтесь к нашей тусовке — впереди нас ждёт взрывной вайб! 😎</p>
            <p class="mt-3 text-xs opacity-90">С любовью Mortis32 &lt;3 · 16 июля 2025</p>
          </article>
          <!-- ... остальные новости ... -->
        </div>
      </div>
    </section>

    <section id="contact" class="py-16 bg-slate-50 dark:bg-slate-900/40">
      <div class="mx-auto max-w-5xl px-4">
        <h2 class="text-center text-2xl md:text-3xl font-bold">Связь со мной</h2>
        <p class="mt-2 text-center text-slate-600 dark:text-slate-300">Хочешь коллаб или просто поболтать? Пиши!</p>
        <div class="mt-6 grid gap-6">
          <div class="rounded-2xl bg-white dark:bg-slate-800 ring-1 ring-slate-200 dark:ring-slate-700 p-6">
            <ul class="space-y-2 text-slate-700 dark:text-slate-300">
              <li>Telegram: <a class="text-indigo-600 dark:text-indigo-400 underline" href="https://t.me/Mortisplay_YT">MortisPlay</a></li>
              <li>Канал: <a class="text-indigo-600 dark:text-indigo-400 underline" href="https://t.me/MortisPlayTG">@MortisPlayTG</a></li>
              <li>Частный канал: <a class="text-indigo-600 dark:text-indigo-400 underline" href="https://t.me/+VhpxzWl9ygYzMmFi">t.me/+VhpxzWl9ygYzMmFi</a></li>
              <li>Email: <a class="text-indigo-600 dark:text-indigo-400 underline" href="mailto:mortisplay@mail.ru">mortisplay@mail.ru</a></li>
            </ul>
            <div class="mt-4 flex flex-wrap gap-3">
              <a href="https://www.youtube.com/@MortisPlay" target="_blank" class="glass-button"><i class="fa-brands fa-youtube"></i>YouTube</a>
              <a href="https://www.twitch.tv/mortisplay32" target="_blank" class="glass-button"><i class="fa-brands fa-twitch"></i>Twitch</a>
              <a href="https://www.tiktok.com/@mortisplay32" target="_blank" class="glass-button"><i class="fa-brands fa-tiktok"></i>TikTok</a>
              <a href="https://discord.gg/c7EmwzR4cX" target="_blank" class="glass-button"><i class="fa-brands fa-discord"></i>Discord</a>
            </div>
            <div class="mt-4">
              <a href="https://www.donationalerts.com/r/mortis32" target="_blank" class="glass-button"><i class="fa-solid fa-hand-holding-dollar"></i> Поддержать проект</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="faq" class="py-16">
      <div class="mx-auto max-w-4xl px-4">
        <h2 class="text-center text-2xl md:text-3xl font-bold">Часто задаваемые вопросы</h2>
        <div class="mt-8 divide-y divide-slate-200 dark:divide-slate-700 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-700 overflow-hidden">
          <details class="group p-5">
            <summary class="flex cursor-pointer items-center justify-between text-left font-medium" aria-expanded="false">
              Как связаться с тобой?
              <span class="ml-4 transition group-open:rotate-45"><i class="fa-solid fa-plus"></i></span>
            </summary>
            <div class="mt-2 text-sm text-slate-600 dark:text-slate-300">Пиши в Telegram: <a href="https://t.me/MortisPlay_YT" class="underline text-indigo-600 dark:text-indigo-400">MortisPlay</a>, или на email: <a href="mailto:mortisplay@mail.ru" class="underline text-indigo-600 dark:text-indigo-400">mortisplay@mail.ru</a>.</div>
          </details>
          <!-- ... остальные details ... -->
        </div>
      </div>
    </section>

    <footer class="border-t border-slate-200/60 dark:border-slate-700/60 py-8">
      <div class="mx-auto max-w-7xl px-4 flex flex-col sm:flex-row items-center justify-between gap-4">
        <p class="text-sm opacity-80">© 2025 Mortis Play. Все права защищены.</p>
      </div>
    </footer>
    <div id="closedNotice"></div>
  </div>

  <script nonce="${nonce}">
    // Функция логирования
    const logAction = (message) => {
      // Для отладки раскомментируй: console.log(message);
    };

    // Управление темой
    const root = document.documentElement;
    const setTheme = (theme) => {
      logAction(`Тема установлена: ${theme}`);
      localStorage.setItem('theme', theme);
      root.classList.toggle('dark', theme === 'dark');
    };

    // Инициализация темы
    const initializeTheme = () => {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) {
        setTheme(savedTheme);
      } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        setTheme('dark');
      } else {
        setTheme('light');
      }
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) =>
        setTheme(e.matches ? 'dark' : 'light')
      );
    };

    // Обработчик меню
    const setupMenu = () => {
      const toggle = document.getElementById('menuToggle');
      const close = document.getElementById('closeMenu');
      const sidebar = document.getElementById('sidebarMenu');

      if (toggle && sidebar) {
        toggle.addEventListener('click', () => {
          sidebar.classList.add('open');
          toggle.setAttribute('aria-expanded', 'true');
        });
      }
      if (close && sidebar) {
        close.addEventListener('click', () => {
          sidebar.classList.remove('open');
          if (toggle) toggle.setAttribute('aria-expanded', 'false');
        });
      }
      document.addEventListener('click', (e) => {
        if (sidebar && toggle && !sidebar.contains(e.target) && e.target !== toggle) {
          sidebar.classList.remove('open');
          toggle.setAttribute('aria-expanded', 'false');
        }
      });
    };

    // Настройка анимации появления
    const setupFadeIn = () => {
      const io = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('is-visible');
            }
          });
        },
        { threshold: 0.1, rootMargin: '0px' }
      );
      const fadeElements = document.querySelectorAll('.fade-in, section');
      if (fadeElements.length > 0) {
        fadeElements.forEach((el) => {
          if (el instanceof Element) {
            io.observe(el);
          }
        });
      } else {
        logAction('Элементы для fade-in не найдены');
      }
    };

    // Инициализация видео
    const setupVideos = () => {
      const tpl = document.getElementById('ytCardTpl');
      const grid = document.querySelector('#videos .mt-8.grid');
      if (tpl && grid) {
        const videoData = [
          { src: 'https://rutube.ru/play/embed/17ab491deff35ceaacdbe027e266e9f6/', title: 'Угар в Content Warning' },
          { src: 'https://rutube.ru/play/embed/ea7fa319476924cad6ae44e7972f7f7e/', title: 'УГАР В REPO' },
          { src: 'https://rutube.ru/play/embed/46b92548cd13429c14348feb10dbd35d/', title: 'Игра CS2 (feat. Johnny Drill)' },
          { src: 'https://rutube.ru/play/embed/2ba4872771e827b6ce560a8390462643/', title: 'ВРЕМЯ УГАРА И ПРЕДАТЕЛЬСТВА PEAK!' },
          { src: 'https://rutube.ru/play/embed/4e88d1d8cacec555ddb17bff2720394a/', title: 'Mortisplay32 ИГРАЕТ В PEAK' },
          { src: 'https://rutube.ru/play/embed/NEW_VIDEO_ID_1/', title: 'Новый эпичный стрим' },
          { src: 'https://rutube.ru/play/embed/NEW_VIDEO_ID_2/', title: 'Обзор новой игры' }
        ];
        videoData.forEach((v) => {
          const node = tpl.content.cloneNode(true);
          const iframe = node.querySelector('iframe');
          const title = node.querySelector('p');
          if (iframe && title) {
            iframe.src = v.src;
            iframe.setAttribute('title', `Видео: ${v.title}`);
            title.textContent = v.title;
            grid.appendChild(node);
          } else {
            logAction('Ошибка создания элемента видео');
          }
        });
      }
    };

    // Управление лоадером и уведомлением
    const setupLoader = () => {
      window.addEventListener('load', () => {
        logAction('Загрузка завершена');
        const loader = document.getElementById('loader');
        const site = document.getElementById('siteContent');
        const notice = document.getElementById('closedNotice');
        if (loader && site && notice) {
          loader.classList.add('opacity-0', 'transition', 'duration-700');
          loader.addEventListener('transitionend', () => {
            loader.style.display = 'none';
            site.classList.remove('hidden');
            notice.innerHTML = `
              <div>
                <h2 style="margin: 0 0 1rem; color: #ff4444;">Сайт в разработке</h2>
                <p>Доступ временно ограничен. Пожалуйста, вернитесь позже!</p>
              </div>
            `;
            logAction('Лоадер скрыт');
          }, { once: true });
        }
      });

      setTimeout(() => {
        logAction('Таймаут 5с сработал');
        const loader = document.getElementById('loader');
        const site = document.getElementById('siteContent');
        const notice = document.getElementById('closedNotice');
        if (loader && site && notice) {
          loader.style.display = 'none';
          site.classList.remove('hidden');
          notice.innerHTML = `
            <div>
              <h2 style="margin: 0 0 1rem; color: #ff4444;">Сайт в разработке</h2>
              <p>Доступ временно ограничен. Пожалуйста, вернитесь позже!</p>
            </div>
          `;
        }
      }, 5000);
    };

    // Инициализация всех компонентов
    const initializeApp = () => {
      initializeTheme();
      setupMenu();
      setupFadeIn();
      setupVideos();
      setupLoader();
    };

    // Запуск приложения
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeApp);
    } else {
      initializeApp();
    }
  </script>
</body>
</html>
